<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>wiNpoS: upload Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="wiNpoS.png"/></td>
  <td id="projectalign">
   <div id="projectname">wiNpoS
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('namespaceupload.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">upload Namespace Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classupload_1_1_abstract_rpc_server.html">AbstractRpcServer</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classupload_1_1_client_login_error.html">ClientLoginError</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classupload_1_1_git_v_c_s.html">GitVCS</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classupload_1_1_http_rpc_server.html">HttpRpcServer</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">elif e.code &gt;= 500 and e.code &lt; 600:  <a href="classupload_1_1_http_rpc_server.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classupload_1_1_mercurial_v_c_s.html">MercurialVCS</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classupload_1_1_subversion_v_c_s.html">SubversionVCS</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classupload_1_1_version_control_system.html">VersionControlSystem</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a9515ed0472d3989eb2b4ffb598bf4d38" id="r_a9515ed0472d3989eb2b4ffb598bf4d38"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceupload.html#a9515ed0472d3989eb2b4ffb598bf4d38">GetEmail</a> (prompt)</td></tr>
<tr class="separator:a9515ed0472d3989eb2b4ffb598bf4d38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace7b6cbe630726762d0d876fc7e756a2" id="r_ace7b6cbe630726762d0d876fc7e756a2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceupload.html#ace7b6cbe630726762d0d876fc7e756a2">StatusUpdate</a> (msg)</td></tr>
<tr class="separator:ace7b6cbe630726762d0d876fc7e756a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aded00b2430ea094be3da97c21c1ec61f" id="r_aded00b2430ea094be3da97c21c1ec61f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceupload.html#aded00b2430ea094be3da97c21c1ec61f">ErrorExit</a> (msg)</td></tr>
<tr class="separator:aded00b2430ea094be3da97c21c1ec61f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6846c039a4f0d019180b754a2f039e2f" id="r_a6846c039a4f0d019180b754a2f039e2f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceupload.html#a6846c039a4f0d019180b754a2f039e2f">GetRpcServer</a> (options)</td></tr>
<tr class="separator:a6846c039a4f0d019180b754a2f039e2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1ee2f4e90998b7fbf29d894b6783ef8" id="r_ac1ee2f4e90998b7fbf29d894b6783ef8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceupload.html#ac1ee2f4e90998b7fbf29d894b6783ef8">EncodeMultipartFormData</a> (fields, files)</td></tr>
<tr class="separator:ac1ee2f4e90998b7fbf29d894b6783ef8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acee77e89f7241bb7bad529b423123d0c" id="r_acee77e89f7241bb7bad529b423123d0c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceupload.html#acee77e89f7241bb7bad529b423123d0c">GetContentType</a> (filename)</td></tr>
<tr class="separator:acee77e89f7241bb7bad529b423123d0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf7f85c895770c6aba543e1bf57533ae" id="r_aaf7f85c895770c6aba543e1bf57533ae"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceupload.html#aaf7f85c895770c6aba543e1bf57533ae">RunShellWithReturnCode</a> (command, print_output=False, universal_newlines=True)</td></tr>
<tr class="separator:aaf7f85c895770c6aba543e1bf57533ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc4aea7c4a79d29dfab04f650c274fdb" id="r_adc4aea7c4a79d29dfab04f650c274fdb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceupload.html#adc4aea7c4a79d29dfab04f650c274fdb">RunShell</a> (command, silent_ok=False, universal_newlines=True, print_output=False)</td></tr>
<tr class="separator:adc4aea7c4a79d29dfab04f650c274fdb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad086545a31d32684cc46db8d911c5dd9" id="r_ad086545a31d32684cc46db8d911c5dd9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceupload.html#ad086545a31d32684cc46db8d911c5dd9">SplitPatch</a> (data)</td></tr>
<tr class="separator:ad086545a31d32684cc46db8d911c5dd9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a911c98a64378a566a42ed6758245ef22" id="r_a911c98a64378a566a42ed6758245ef22"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceupload.html#a911c98a64378a566a42ed6758245ef22">UploadSeparatePatches</a> (issue, rpc_server, patchset, data, options)</td></tr>
<tr class="separator:a911c98a64378a566a42ed6758245ef22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd3e17a78f2b4786e3ff1423f6d3c123" id="r_acd3e17a78f2b4786e3ff1423f6d3c123"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceupload.html#acd3e17a78f2b4786e3ff1423f6d3c123">GuessVCS</a> (options)</td></tr>
<tr class="separator:acd3e17a78f2b4786e3ff1423f6d3c123"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad57cf4d14059e0f18689efa2ea7c368b" id="r_ad57cf4d14059e0f18689efa2ea7c368b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceupload.html#ad57cf4d14059e0f18689efa2ea7c368b">RealMain</a> (argv, data=None)</td></tr>
<tr class="separator:ad57cf4d14059e0f18689efa2ea7c368b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08415e9cf2468e18c17471151ae8c26d" id="r_a08415e9cf2468e18c17471151ae8c26d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceupload.html#a08415e9cf2468e18c17471151ae8c26d">main</a> ()</td></tr>
<tr class="separator:a08415e9cf2468e18c17471151ae8c26d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a79aff46409a98c4e5f608c8df1fd4612" id="r_a79aff46409a98c4e5f608c8df1fd4612"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceupload.html#a79aff46409a98c4e5f608c8df1fd4612">verbosity</a> = 1</td></tr>
<tr class="separator:a79aff46409a98c4e5f608c8df1fd4612"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad5b1a43823e2a710a2f78e33dde8901" id="r_aad5b1a43823e2a710a2f78e33dde8901"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceupload.html#aad5b1a43823e2a710a2f78e33dde8901">MAX_UPLOAD_SIZE</a> = 900 * 1024</td></tr>
<tr class="separator:aad5b1a43823e2a710a2f78e33dde8901"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9e508d19dc2dd9cdb7c642dde0bdd21" id="r_af9e508d19dc2dd9cdb7c642dde0bdd21"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceupload.html#af9e508d19dc2dd9cdb7c642dde0bdd21">parser</a> = optparse.OptionParser(usage=&quot;%prog [options] [-- diff_options]&quot;)</td></tr>
<tr class="separator:af9e508d19dc2dd9cdb7c642dde0bdd21"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a675d13c979f1c720866d22ed1736f580" id="r_a675d13c979f1c720866d22ed1736f580"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceupload.html#a675d13c979f1c720866d22ed1736f580">action</a></td></tr>
<tr class="separator:a675d13c979f1c720866d22ed1736f580"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a770d9c7b49b1fede80de6078d5e49af7" id="r_a770d9c7b49b1fede80de6078d5e49af7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceupload.html#a770d9c7b49b1fede80de6078d5e49af7">dest</a></td></tr>
<tr class="separator:a770d9c7b49b1fede80de6078d5e49af7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4be925d9a50d5ad134d86400509d0f2" id="r_af4be925d9a50d5ad134d86400509d0f2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceupload.html#af4be925d9a50d5ad134d86400509d0f2">default</a></td></tr>
<tr class="separator:af4be925d9a50d5ad134d86400509d0f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abfc23c9aa2d9b777678da117a85929a5" id="r_abfc23c9aa2d9b777678da117a85929a5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceupload.html#abfc23c9aa2d9b777678da117a85929a5">help</a></td></tr>
<tr class="separator:abfc23c9aa2d9b777678da117a85929a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d33d66de17175dced88ffe95f079226" id="r_a9d33d66de17175dced88ffe95f079226"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceupload.html#a9d33d66de17175dced88ffe95f079226">group</a> = parser.add_option_group(&quot;Logging options&quot;)</td></tr>
<tr class="separator:a9d33d66de17175dced88ffe95f079226"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a985aa9a71de3eb507344df65700c696d" id="r_a985aa9a71de3eb507344df65700c696d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceupload.html#a985aa9a71de3eb507344df65700c696d">const</a></td></tr>
<tr class="separator:a985aa9a71de3eb507344df65700c696d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1cea8af5389f0ab2d8b65b2c0fd2fe0" id="r_af1cea8af5389f0ab2d8b65b2c0fd2fe0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceupload.html#af1cea8af5389f0ab2d8b65b2c0fd2fe0">metavar</a></td></tr>
<tr class="separator:af1cea8af5389f0ab2d8b65b2c0fd2fe0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fc56f0dd6613be15c3c4dc3af3619ce" id="r_a4fc56f0dd6613be15c3c4dc3af3619ce"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceupload.html#a4fc56f0dd6613be15c3c4dc3af3619ce">type</a></td></tr>
<tr class="separator:a4fc56f0dd6613be15c3c4dc3af3619ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa85ceef00a65cd276a856404eb5f310" id="r_afa85ceef00a65cd276a856404eb5f310"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceupload.html#afa85ceef00a65cd276a856404eb5f310">use_shell</a> = sys.platform.startswith(&quot;win&quot;)</td></tr>
<tr class="separator:afa85ceef00a65cd276a856404eb5f310"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">Tool for uploading diffs from a version control system to the codereview app.

Usage summary: upload.py [options] [-- diff_options]

Diff options are passed to the diff command of the underlying system.

Supported version control systems:
  Git
  Mercurial
  Subversion

It is important for Git/Mercurial users to specify a tree/node/branch to diff
against by using the '--rev' option.
</pre> </div><h2 class="groupheader">Function Documentation</h2>
<a id="ac1ee2f4e90998b7fbf29d894b6783ef8" name="ac1ee2f4e90998b7fbf29d894b6783ef8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac1ee2f4e90998b7fbf29d894b6783ef8">&#9670;&#160;</a></span>EncodeMultipartFormData()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">upload.EncodeMultipartFormData </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>fields</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>files</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Encode form fields for multipart/form-data.

Args:
  fields: A sequence of (name, value) elements for regular form fields.
  files: A sequence of (name, filename, value) elements for data to be
         uploaded as files.
Returns:
  (content_type, body) ready for httplib.HTTP instance.

Source:
  http://aspn.activestate.com/ASPN/Cookbook/Python/Recipe/146306
</pre> 
<p class="definition">Definition at line <a class="el" href="googlemock_2scripts_2upload_8py_source.html#l00498">498</a> of file <a class="el" href="googlemock_2scripts_2upload_8py_source.html">upload.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  498</span><span class="keyword">def </span>EncodeMultipartFormData(fields, files):</div>
<div class="line"><span class="lineno">  499</span>  <span class="stringliteral">&quot;&quot;&quot;Encode form fields for multipart/form-data.</span></div>
<div class="line"><span class="lineno">  500</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  501</span><span class="stringliteral">  Args:</span></div>
<div class="line"><span class="lineno">  502</span><span class="stringliteral">    fields: A sequence of (name, value) elements for regular form fields.</span></div>
<div class="line"><span class="lineno">  503</span><span class="stringliteral">    files: A sequence of (name, filename, value) elements for data to be</span></div>
<div class="line"><span class="lineno">  504</span><span class="stringliteral">           uploaded as files.</span></div>
<div class="line"><span class="lineno">  505</span><span class="stringliteral">  Returns:</span></div>
<div class="line"><span class="lineno">  506</span><span class="stringliteral">    (content_type, body) ready for httplib.HTTP instance.</span></div>
<div class="line"><span class="lineno">  507</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  508</span><span class="stringliteral">  Source:</span></div>
<div class="line"><span class="lineno">  509</span><span class="stringliteral">    http://aspn.activestate.com/ASPN/Cookbook/Python/Recipe/146306</span></div>
<div class="line"><span class="lineno">  510</span><span class="stringliteral">  &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  511</span>  BOUNDARY = <span class="stringliteral">&#39;-M-A-G-I-C---B-O-U-N-D-A-R-Y-&#39;</span></div>
<div class="line"><span class="lineno">  512</span>  CRLF = <span class="stringliteral">&#39;\r\n&#39;</span></div>
<div class="line"><span class="lineno">  513</span>  lines = []</div>
<div class="line"><span class="lineno">  514</span>  <span class="keywordflow">for</span> (key, value) <span class="keywordflow">in</span> fields:</div>
<div class="line"><span class="lineno">  515</span>    lines.append(<span class="stringliteral">&#39;--&#39;</span> + BOUNDARY)</div>
<div class="line"><span class="lineno">  516</span>    lines.append(<span class="stringliteral">&#39;Content-Disposition: form-data; name=&quot;%s&quot;&#39;</span> % key)</div>
<div class="line"><span class="lineno">  517</span>    lines.append(<span class="stringliteral">&#39;&#39;</span>)</div>
<div class="line"><span class="lineno">  518</span>    lines.append(value)</div>
<div class="line"><span class="lineno">  519</span>  <span class="keywordflow">for</span> (key, filename, value) <span class="keywordflow">in</span> files:</div>
<div class="line"><span class="lineno">  520</span>    lines.append(<span class="stringliteral">&#39;--&#39;</span> + BOUNDARY)</div>
<div class="line"><span class="lineno">  521</span>    lines.append(<span class="stringliteral">&#39;Content-Disposition: form-data; name=&quot;%s&quot;; filename=&quot;%s&quot;&#39;</span> %</div>
<div class="line"><span class="lineno">  522</span>             (key, filename))</div>
<div class="line"><span class="lineno">  523</span>    lines.append(<span class="stringliteral">&#39;Content-Type: %s&#39;</span> % GetContentType(filename))</div>
<div class="line"><span class="lineno">  524</span>    lines.append(<span class="stringliteral">&#39;&#39;</span>)</div>
<div class="line"><span class="lineno">  525</span>    lines.append(value)</div>
<div class="line"><span class="lineno">  526</span>  lines.append(<span class="stringliteral">&#39;--&#39;</span> + BOUNDARY + <span class="stringliteral">&#39;--&#39;</span>)</div>
<div class="line"><span class="lineno">  527</span>  lines.append(<span class="stringliteral">&#39;&#39;</span>)</div>
<div class="line"><span class="lineno">  528</span>  body = CRLF.join(lines)</div>
<div class="line"><span class="lineno">  529</span>  content_type = <span class="stringliteral">&#39;multipart/form-data; boundary=%s&#39;</span> % BOUNDARY</div>
<div class="line"><span class="lineno">  530</span>  <span class="keywordflow">return</span> content_type, body</div>
<div class="line"><span class="lineno">  531</span> </div>
<div class="line"><span class="lineno">  532</span> </div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="googlemock_2scripts_2upload_8py_source.html#l00533">GetContentType()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespaceupload_ac1ee2f4e90998b7fbf29d894b6783ef8_cgraph.png" border="0" usemap="#anamespaceupload_ac1ee2f4e90998b7fbf29d894b6783ef8_cgraph" alt=""/></div>
<!-- MAP 0 -->
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespaceupload_ac1ee2f4e90998b7fbf29d894b6783ef8_icgraph.png" border="0" usemap="#anamespaceupload_ac1ee2f4e90998b7fbf29d894b6783ef8_icgraph" alt=""/></div>
<!-- MAP 1 -->
</div>

</div>
</div>
<a id="aded00b2430ea094be3da97c21c1ec61f" name="aded00b2430ea094be3da97c21c1ec61f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aded00b2430ea094be3da97c21c1ec61f">&#9670;&#160;</a></span>ErrorExit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">upload.ErrorExit </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Print an error message to stderr and exit.</pre> 
<p class="definition">Definition at line <a class="el" href="googlemock_2scripts_2upload_8py_source.html#l00109">109</a> of file <a class="el" href="googlemock_2scripts_2upload_8py_source.html">upload.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  109</span><span class="keyword">def </span>ErrorExit(msg):</div>
<div class="line"><span class="lineno">  110</span>  <span class="stringliteral">&quot;&quot;&quot;Print an error message to stderr and exit.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  111</span>  <span class="keywordflow">print</span> &gt;&gt;sys.stderr, msg</div>
<div class="line"><span class="lineno">  112</span>  sys.exit(1)</div>
<div class="line"><span class="lineno">  113</span> </div>
<div class="line"><span class="lineno">  114</span> </div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespaceupload_aded00b2430ea094be3da97c21c1ec61f_icgraph.png" border="0" usemap="#anamespaceupload_aded00b2430ea094be3da97c21c1ec61f_icgraph" alt=""/></div>
<!-- MAP 2 -->
</div>

</div>
</div>
<a id="acee77e89f7241bb7bad529b423123d0c" name="acee77e89f7241bb7bad529b423123d0c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acee77e89f7241bb7bad529b423123d0c">&#9670;&#160;</a></span>GetContentType()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">upload.GetContentType </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>filename</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Helper to guess the content-type from the filename.</pre> 
<p class="definition">Definition at line <a class="el" href="googlemock_2scripts_2upload_8py_source.html#l00533">533</a> of file <a class="el" href="googlemock_2scripts_2upload_8py_source.html">upload.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  533</span><span class="keyword">def </span>GetContentType(filename):</div>
<div class="line"><span class="lineno">  534</span>  <span class="stringliteral">&quot;&quot;&quot;Helper to guess the content-type from the filename.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  535</span>  <span class="keywordflow">return</span> mimetypes.guess_type(filename)[0] <span class="keywordflow">or</span> <span class="stringliteral">&#39;application/octet-stream&#39;</span></div>
<div class="line"><span class="lineno">  536</span> </div>
<div class="line"><span class="lineno">  537</span> </div>
<div class="line"><span class="lineno">  538</span><span class="comment"># Use a shell for subcommands on Windows to get a PATH search.</span></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespaceupload_acee77e89f7241bb7bad529b423123d0c_icgraph.png" border="0" usemap="#anamespaceupload_acee77e89f7241bb7bad529b423123d0c_icgraph" alt=""/></div>
<!-- MAP 3 -->
</div>

</div>
</div>
<a id="a9515ed0472d3989eb2b4ffb598bf4d38" name="a9515ed0472d3989eb2b4ffb598bf4d38"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9515ed0472d3989eb2b4ffb598bf4d38">&#9670;&#160;</a></span>GetEmail()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">upload.GetEmail </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>prompt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Prompts the user for their email address and returns it.

The last used email address is saved to a file and offered up as a suggestion
to the user. If the user presses enter without typing in anything the last
used email address is used. If the user enters a new address, it is saved
for next time we prompt.</pre> 
<p class="definition">Definition at line <a class="el" href="googlemock_2scripts_2upload_8py_source.html#l00065">65</a> of file <a class="el" href="googlemock_2scripts_2upload_8py_source.html">upload.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   65</span><span class="keyword">def </span>GetEmail(prompt):</div>
<div class="line"><span class="lineno">   66</span>  <span class="stringliteral">&quot;&quot;&quot;Prompts the user for their email address and returns it.</span></div>
<div class="line"><span class="lineno">   67</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   68</span><span class="stringliteral">  The last used email address is saved to a file and offered up as a suggestion</span></div>
<div class="line"><span class="lineno">   69</span><span class="stringliteral">  to the user. If the user presses enter without typing in anything the last</span></div>
<div class="line"><span class="lineno">   70</span><span class="stringliteral">  used email address is used. If the user enters a new address, it is saved</span></div>
<div class="line"><span class="lineno">   71</span><span class="stringliteral">  for next time we prompt.</span></div>
<div class="line"><span class="lineno">   72</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   73</span><span class="stringliteral">  &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   74</span>  last_email_file_name = os.path.expanduser(<span class="stringliteral">&quot;~/.last_codereview_email_address&quot;</span>)</div>
<div class="line"><span class="lineno">   75</span>  last_email = <span class="stringliteral">&quot;&quot;</span></div>
<div class="line"><span class="lineno">   76</span>  <span class="keywordflow">if</span> os.path.exists(last_email_file_name):</div>
<div class="line"><span class="lineno">   77</span>    <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">   78</span>      last_email_file = open(last_email_file_name, <span class="stringliteral">&quot;r&quot;</span>)</div>
<div class="line"><span class="lineno">   79</span>      last_email = last_email_file.readline().strip(<span class="stringliteral">&quot;\n&quot;</span>)</div>
<div class="line"><span class="lineno">   80</span>      last_email_file.close()</div>
<div class="line"><span class="lineno">   81</span>      prompt += <span class="stringliteral">&quot; [%s]&quot;</span> % last_email</div>
<div class="line"><span class="lineno">   82</span>    <span class="keywordflow">except</span> IOError, e:</div>
<div class="line"><span class="lineno">   83</span>      <span class="keywordflow">pass</span></div>
<div class="line"><span class="lineno">   84</span>  email = raw_input(prompt + <span class="stringliteral">&quot;: &quot;</span>).strip()</div>
<div class="line"><span class="lineno">   85</span>  <span class="keywordflow">if</span> email:</div>
<div class="line"><span class="lineno">   86</span>    <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">   87</span>      last_email_file = open(last_email_file_name, <span class="stringliteral">&quot;w&quot;</span>)</div>
<div class="line"><span class="lineno">   88</span>      last_email_file.write(email)</div>
<div class="line"><span class="lineno">   89</span>      last_email_file.close()</div>
<div class="line"><span class="lineno">   90</span>    <span class="keywordflow">except</span> IOError, e:</div>
<div class="line"><span class="lineno">   91</span>      <span class="keywordflow">pass</span></div>
<div class="line"><span class="lineno">   92</span>  <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">   93</span>    email = last_email</div>
<div class="line"><span class="lineno">   94</span>  <span class="keywordflow">return</span> email</div>
<div class="line"><span class="lineno">   95</span> </div>
<div class="line"><span class="lineno">   96</span> </div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespaceupload_a9515ed0472d3989eb2b4ffb598bf4d38_icgraph.png" border="0" usemap="#anamespaceupload_a9515ed0472d3989eb2b4ffb598bf4d38_icgraph" alt=""/></div>
<!-- MAP 4 -->
</div>

</div>
</div>
<a id="a6846c039a4f0d019180b754a2f039e2f" name="a6846c039a4f0d019180b754a2f039e2f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6846c039a4f0d019180b754a2f039e2f">&#9670;&#160;</a></span>GetRpcServer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">upload.GetRpcServer </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>options</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Returns an instance of an AbstractRpcServer.

Returns:
  A new AbstractRpcServer, on which RPC calls can be made.
</pre> 
<p class="definition">Definition at line <a class="el" href="googlemock_2scripts_2upload_8py_source.html#l00458">458</a> of file <a class="el" href="googlemock_2scripts_2upload_8py_source.html">upload.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  458</span><span class="keyword">def </span>GetRpcServer(options):</div>
<div class="line"><span class="lineno">  459</span>  <span class="stringliteral">&quot;&quot;&quot;Returns an instance of an AbstractRpcServer.</span></div>
<div class="line"><span class="lineno">  460</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  461</span><span class="stringliteral">  Returns:</span></div>
<div class="line"><span class="lineno">  462</span><span class="stringliteral">    A new AbstractRpcServer, on which RPC calls can be made.</span></div>
<div class="line"><span class="lineno">  463</span><span class="stringliteral">  &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  464</span> </div>
<div class="line"><span class="lineno">  465</span>  rpc_server_class = HttpRpcServer</div>
<div class="line"><span class="lineno">  466</span> </div>
<div class="line"><span class="lineno">  467</span>  <span class="keyword">def </span>GetUserCredentials():</div>
<div class="line"><span class="lineno">  468</span>    <span class="stringliteral">&quot;&quot;&quot;Prompts the user for a username and password.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  469</span>    email = options.email</div>
<div class="line"><span class="lineno">  470</span>    <span class="keywordflow">if</span> email <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  471</span>      email = GetEmail(<span class="stringliteral">&quot;Email (login for uploading to %s)&quot;</span> % options.server)</div>
<div class="line"><span class="lineno">  472</span>    password = getpass.getpass(<span class="stringliteral">&quot;Password for %s: &quot;</span> % email)</div>
<div class="line"><span class="lineno">  473</span>    <span class="keywordflow">return</span> (email, password)</div>
<div class="line"><span class="lineno">  474</span> </div>
<div class="line"><span class="lineno">  475</span>  <span class="comment"># If this is the dev_appserver, use fake authentication.</span></div>
<div class="line"><span class="lineno">  476</span>  host = (options.host <span class="keywordflow">or</span> options.server).lower()</div>
<div class="line"><span class="lineno">  477</span>  <span class="keywordflow">if</span> host == <span class="stringliteral">&quot;localhost&quot;</span> <span class="keywordflow">or</span> host.startswith(<span class="stringliteral">&quot;localhost:&quot;</span>):</div>
<div class="line"><span class="lineno">  478</span>    email = options.email</div>
<div class="line"><span class="lineno">  479</span>    <span class="keywordflow">if</span> email <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  480</span>      email = <span class="stringliteral">&quot;test@example.com&quot;</span></div>
<div class="line"><span class="lineno">  481</span>      logging.info(<span class="stringliteral">&quot;Using debug user %s.  Override with --email&quot;</span> % email)</div>
<div class="line"><span class="lineno">  482</span>    server = rpc_server_class(</div>
<div class="line"><span class="lineno">  483</span>        options.server,</div>
<div class="line"><span class="lineno">  484</span>        <span class="keyword">lambda</span>: (email, <span class="stringliteral">&quot;password&quot;</span>),</div>
<div class="line"><span class="lineno">  485</span>        host_override=options.host,</div>
<div class="line"><span class="lineno">  486</span>        extra_headers={<span class="stringliteral">&quot;Cookie&quot;</span>:</div>
<div class="line"><span class="lineno">  487</span>                       <span class="stringliteral">&#39;dev_appserver_login=&quot;%s:False&quot;&#39;</span> % email},</div>
<div class="line"><span class="lineno">  488</span>        save_cookies=options.save_cookies)</div>
<div class="line"><span class="lineno">  489</span>    <span class="comment"># Don&#39;t try to talk to ClientLogin.</span></div>
<div class="line"><span class="lineno">  490</span>    server.authenticated = <span class="keyword">True</span></div>
<div class="line"><span class="lineno">  491</span>    <span class="keywordflow">return</span> server</div>
<div class="line"><span class="lineno">  492</span> </div>
<div class="line"><span class="lineno">  493</span>  <span class="keywordflow">return</span> rpc_server_class(options.server, GetUserCredentials,</div>
<div class="line"><span class="lineno">  494</span>                          host_override=options.host,</div>
<div class="line"><span class="lineno">  495</span>                          save_cookies=options.save_cookies)</div>
<div class="line"><span class="lineno">  496</span> </div>
<div class="line"><span class="lineno">  497</span> </div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="googlemock_2scripts_2upload_8py_source.html#l00065">GetEmail()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespaceupload_a6846c039a4f0d019180b754a2f039e2f_cgraph.png" border="0" usemap="#anamespaceupload_a6846c039a4f0d019180b754a2f039e2f_cgraph" alt=""/></div>
<!-- MAP 5 -->
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespaceupload_a6846c039a4f0d019180b754a2f039e2f_icgraph.png" border="0" usemap="#anamespaceupload_a6846c039a4f0d019180b754a2f039e2f_icgraph" alt=""/></div>
<!-- MAP 6 -->
</div>

</div>
</div>
<a id="acd3e17a78f2b4786e3ff1423f6d3c123" name="acd3e17a78f2b4786e3ff1423f6d3c123"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acd3e17a78f2b4786e3ff1423f6d3c123">&#9670;&#160;</a></span>GuessVCS()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">upload.GuessVCS </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>options</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Helper to guess the version control system.

This examines the current directory, guesses which VersionControlSystem
we're using, and returns an instance of the appropriate class.  Exit with an
error if we can't figure it out.

Returns:
  A VersionControlSystem instance. Exits if the VCS can't be guessed.
</pre> 
<p class="definition">Definition at line <a class="el" href="googlemock_2scripts_2upload_8py_source.html#l01209">1209</a> of file <a class="el" href="googlemock_2scripts_2upload_8py_source.html">upload.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1209</span><span class="keyword">def </span>GuessVCS(options):</div>
<div class="line"><span class="lineno"> 1210</span>  <span class="stringliteral">&quot;&quot;&quot;Helper to guess the version control system.</span></div>
<div class="line"><span class="lineno"> 1211</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1212</span><span class="stringliteral">  This examines the current directory, guesses which VersionControlSystem</span></div>
<div class="line"><span class="lineno"> 1213</span><span class="stringliteral">  we&#39;re using, and returns an instance of the appropriate class.  Exit with an</span></div>
<div class="line"><span class="lineno"> 1214</span><span class="stringliteral">  error if we can&#39;t figure it out.</span></div>
<div class="line"><span class="lineno"> 1215</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1216</span><span class="stringliteral">  Returns:</span></div>
<div class="line"><span class="lineno"> 1217</span><span class="stringliteral">    A VersionControlSystem instance. Exits if the VCS can&#39;t be guessed.</span></div>
<div class="line"><span class="lineno"> 1218</span><span class="stringliteral">  &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1219</span>  <span class="comment"># Mercurial has a command to get the base directory of a repository</span></div>
<div class="line"><span class="lineno"> 1220</span>  <span class="comment"># Try running it, but don&#39;t die if we don&#39;t have hg installed.</span></div>
<div class="line"><span class="lineno"> 1221</span>  <span class="comment"># NOTE: we try Mercurial first as it can sit on top of an SVN working copy.</span></div>
<div class="line"><span class="lineno"> 1222</span>  <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno"> 1223</span>    out, returncode = RunShellWithReturnCode([<span class="stringliteral">&quot;hg&quot;</span>, <span class="stringliteral">&quot;root&quot;</span>])</div>
<div class="line"><span class="lineno"> 1224</span>    <span class="keywordflow">if</span> returncode == 0:</div>
<div class="line"><span class="lineno"> 1225</span>      <span class="keywordflow">return</span> MercurialVCS(options, out.strip())</div>
<div class="line"><span class="lineno"> 1226</span>  <span class="keywordflow">except</span> OSError, (errno, message):</div>
<div class="line"><span class="lineno"> 1227</span>    <span class="keywordflow">if</span> errno != 2:  <span class="comment"># ENOENT -- they don&#39;t have hg installed.</span></div>
<div class="line"><span class="lineno"> 1228</span>      <span class="keywordflow">raise</span></div>
<div class="line"><span class="lineno"> 1229</span> </div>
<div class="line"><span class="lineno"> 1230</span>  <span class="comment"># Subversion has a .svn in all working directories.</span></div>
<div class="line"><span class="lineno"> 1231</span>  <span class="keywordflow">if</span> os.path.isdir(<span class="stringliteral">&#39;.svn&#39;</span>):</div>
<div class="line"><span class="lineno"> 1232</span>    logging.info(<span class="stringliteral">&quot;Guessed VCS = Subversion&quot;</span>)</div>
<div class="line"><span class="lineno"> 1233</span>    <span class="keywordflow">return</span> SubversionVCS(options)</div>
<div class="line"><span class="lineno"> 1234</span> </div>
<div class="line"><span class="lineno"> 1235</span>  <span class="comment"># Git has a command to test if you&#39;re in a git tree.</span></div>
<div class="line"><span class="lineno"> 1236</span>  <span class="comment"># Try running it, but don&#39;t die if we don&#39;t have git installed.</span></div>
<div class="line"><span class="lineno"> 1237</span>  <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno"> 1238</span>    out, returncode = RunShellWithReturnCode([<span class="stringliteral">&quot;git&quot;</span>, <span class="stringliteral">&quot;rev-parse&quot;</span>,</div>
<div class="line"><span class="lineno"> 1239</span>                                              <span class="stringliteral">&quot;--is-inside-work-tree&quot;</span>])</div>
<div class="line"><span class="lineno"> 1240</span>    <span class="keywordflow">if</span> returncode == 0:</div>
<div class="line"><span class="lineno"> 1241</span>      <span class="keywordflow">return</span> GitVCS(options)</div>
<div class="line"><span class="lineno"> 1242</span>  <span class="keywordflow">except</span> OSError, (errno, message):</div>
<div class="line"><span class="lineno"> 1243</span>    <span class="keywordflow">if</span> errno != 2:  <span class="comment"># ENOENT -- they don&#39;t have git installed.</span></div>
<div class="line"><span class="lineno"> 1244</span>      <span class="keywordflow">raise</span></div>
<div class="line"><span class="lineno"> 1245</span> </div>
<div class="line"><span class="lineno"> 1246</span>  ErrorExit((<span class="stringliteral">&quot;Could not guess version control system. &quot;</span></div>
<div class="line"><span class="lineno"> 1247</span>             <span class="stringliteral">&quot;Are you in a working copy directory?&quot;</span>))</div>
<div class="line"><span class="lineno"> 1248</span> </div>
<div class="line"><span class="lineno"> 1249</span> </div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="googlemock_2scripts_2upload_8py_source.html#l00109">ErrorExit()</a>, and <a class="el" href="googlemock_2scripts_2upload_8py_source.html#l00542">RunShellWithReturnCode()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespaceupload_acd3e17a78f2b4786e3ff1423f6d3c123_cgraph.png" border="0" usemap="#anamespaceupload_acd3e17a78f2b4786e3ff1423f6d3c123_cgraph" alt=""/></div>
<!-- MAP 7 -->
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespaceupload_acd3e17a78f2b4786e3ff1423f6d3c123_icgraph.png" border="0" usemap="#anamespaceupload_acd3e17a78f2b4786e3ff1423f6d3c123_icgraph" alt=""/></div>
<!-- MAP 8 -->
</div>

</div>
</div>
<a id="a08415e9cf2468e18c17471151ae8c26d" name="a08415e9cf2468e18c17471151ae8c26d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a08415e9cf2468e18c17471151ae8c26d">&#9670;&#160;</a></span>main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">upload.main </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="googlemock_2scripts_2upload_8py_source.html#l01377">1377</a> of file <a class="el" href="googlemock_2scripts_2upload_8py_source.html">upload.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1377</span><span class="keyword">def </span><a class="code hl_function" href="archivertest_8cpp.html#ae66f6b31b5ad750f1fe042a706a4e3d4">main</a>():</div>
<div class="line"><span class="lineno"> 1378</span>  <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno"> 1379</span>    RealMain(sys.argv)</div>
<div class="line"><span class="lineno"> 1380</span>  <span class="keywordflow">except</span> KeyboardInterrupt:</div>
<div class="line"><span class="lineno"> 1381</span>    <span class="keywordflow">print</span></div>
<div class="line"><span class="lineno"> 1382</span>    StatusUpdate(<span class="stringliteral">&quot;Interrupted.&quot;</span>)</div>
<div class="line"><span class="lineno"> 1383</span>    sys.exit(1)</div>
<div class="line"><span class="lineno"> 1384</span> </div>
<div class="line"><span class="lineno"> 1385</span> </div>
<div class="ttc" id="aarchivertest_8cpp_html_ae66f6b31b5ad750f1fe042a706a4e3d4"><div class="ttname"><a href="archivertest_8cpp.html#ae66f6b31b5ad750f1fe042a706a4e3d4">main</a></div><div class="ttdeci">int main()</div><div class="ttdef"><b>Definition</b> <a href="archivertest_8cpp_source.html#l00283">archivertest.cpp:283</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="googlemock_2scripts_2upload_8py_source.html#l01377">main()</a>, <a class="el" href="googlemock_2scripts_2upload_8py_source.html#l01250">RealMain()</a>, and <a class="el" href="googlemock_2scripts_2upload_8py_source.html#l00097">StatusUpdate()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespaceupload_a08415e9cf2468e18c17471151ae8c26d_cgraph.png" border="0" usemap="#anamespaceupload_a08415e9cf2468e18c17471151ae8c26d_cgraph" alt=""/></div>
<!-- MAP 9 -->
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespaceupload_a08415e9cf2468e18c17471151ae8c26d_icgraph.png" border="0" usemap="#anamespaceupload_a08415e9cf2468e18c17471151ae8c26d_icgraph" alt=""/></div>
<!-- MAP 10 -->
</div>

</div>
</div>
<a id="ad57cf4d14059e0f18689efa2ea7c368b" name="ad57cf4d14059e0f18689efa2ea7c368b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad57cf4d14059e0f18689efa2ea7c368b">&#9670;&#160;</a></span>RealMain()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">upload.RealMain </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>argv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>data</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">The real main function.

Args:
  argv: Command line arguments.
  data: Diff contents. If None (default) the diff is generated by
    the VersionControlSystem implementation returned by GuessVCS().

Returns:
  A 2-tuple (issue id, patchset id).
  The patchset id is None if the base files are not uploaded by this
  script (applies only to SVN checkouts).
</pre> 
<p class="definition">Definition at line <a class="el" href="googlemock_2scripts_2upload_8py_source.html#l01250">1250</a> of file <a class="el" href="googlemock_2scripts_2upload_8py_source.html">upload.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1250</span><span class="keyword">def </span>RealMain(argv, data=None):</div>
<div class="line"><span class="lineno"> 1251</span>  <span class="stringliteral">&quot;&quot;&quot;The real main function.</span></div>
<div class="line"><span class="lineno"> 1252</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1253</span><span class="stringliteral">  Args:</span></div>
<div class="line"><span class="lineno"> 1254</span><span class="stringliteral">    argv: Command line arguments.</span></div>
<div class="line"><span class="lineno"> 1255</span><span class="stringliteral">    data: Diff contents. If None (default) the diff is generated by</span></div>
<div class="line"><span class="lineno"> 1256</span><span class="stringliteral">      the VersionControlSystem implementation returned by GuessVCS().</span></div>
<div class="line"><span class="lineno"> 1257</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1258</span><span class="stringliteral">  Returns:</span></div>
<div class="line"><span class="lineno"> 1259</span><span class="stringliteral">    A 2-tuple (issue id, patchset id).</span></div>
<div class="line"><span class="lineno"> 1260</span><span class="stringliteral">    The patchset id is None if the base files are not uploaded by this</span></div>
<div class="line"><span class="lineno"> 1261</span><span class="stringliteral">    script (applies only to SVN checkouts).</span></div>
<div class="line"><span class="lineno"> 1262</span><span class="stringliteral">  &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1263</span>  logging.basicConfig(format=(<span class="stringliteral">&quot;%(asctime).19s %(levelname)s %(filename)s:&quot;</span></div>
<div class="line"><span class="lineno"> 1264</span>                              <span class="stringliteral">&quot;%(lineno)s %(message)s &quot;</span>))</div>
<div class="line"><span class="lineno"> 1265</span>  os.environ[<span class="stringliteral">&#39;LC_ALL&#39;</span>] = <span class="stringliteral">&#39;C&#39;</span></div>
<div class="line"><span class="lineno"> 1266</span>  options, args = parser.parse_args(argv[1:])</div>
<div class="line"><span class="lineno"> 1267</span>  <span class="keyword">global</span> verbosity</div>
<div class="line"><span class="lineno"> 1268</span>  verbosity = options.verbose</div>
<div class="line"><span class="lineno"> 1269</span>  <span class="keywordflow">if</span> verbosity &gt;= 3:</div>
<div class="line"><span class="lineno"> 1270</span>    logging.getLogger().setLevel(logging.DEBUG)</div>
<div class="line"><span class="lineno"> 1271</span>  <span class="keywordflow">elif</span> verbosity &gt;= 2:</div>
<div class="line"><span class="lineno"> 1272</span>    logging.getLogger().setLevel(logging.INFO)</div>
<div class="line"><span class="lineno"> 1273</span>  vcs = GuessVCS(options)</div>
<div class="line"><span class="lineno"> 1274</span>  <span class="keywordflow">if</span> isinstance(vcs, SubversionVCS):</div>
<div class="line"><span class="lineno"> 1275</span>    <span class="comment"># base field is only allowed for Subversion.</span></div>
<div class="line"><span class="lineno"> 1276</span>    <span class="comment"># Note: Fetching base files may become deprecated in future releases.</span></div>
<div class="line"><span class="lineno"> 1277</span>    base = vcs.GuessBase(options.download_base)</div>
<div class="line"><span class="lineno"> 1278</span>  <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1279</span>    base = <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno"> 1280</span>  <span class="keywordflow">if</span> <span class="keywordflow">not</span> base <span class="keywordflow">and</span> options.download_base:</div>
<div class="line"><span class="lineno"> 1281</span>    options.download_base = <span class="keyword">True</span></div>
<div class="line"><span class="lineno"> 1282</span>    logging.info(<span class="stringliteral">&quot;Enabled upload of base file&quot;</span>)</div>
<div class="line"><span class="lineno"> 1283</span>  <span class="keywordflow">if</span> <span class="keywordflow">not</span> options.assume_yes:</div>
<div class="line"><span class="lineno"> 1284</span>    vcs.CheckForUnknownFiles()</div>
<div class="line"><span class="lineno"> 1285</span>  <span class="keywordflow">if</span> data <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno"> 1286</span>    data = vcs.GenerateDiff(args)</div>
<div class="line"><span class="lineno"> 1287</span>  files = vcs.GetBaseFiles(data)</div>
<div class="line"><span class="lineno"> 1288</span>  <span class="keywordflow">if</span> verbosity &gt;= 1:</div>
<div class="line"><span class="lineno"> 1289</span>    <span class="keywordflow">print</span> <span class="stringliteral">&quot;Upload server:&quot;</span>, options.server, <span class="stringliteral">&quot;(change with -s/--server)&quot;</span></div>
<div class="line"><span class="lineno"> 1290</span>  <span class="keywordflow">if</span> options.issue:</div>
<div class="line"><span class="lineno"> 1291</span>    prompt = <span class="stringliteral">&quot;Message describing this patch set: &quot;</span></div>
<div class="line"><span class="lineno"> 1292</span>  <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1293</span>    prompt = <span class="stringliteral">&quot;New issue subject: &quot;</span></div>
<div class="line"><span class="lineno"> 1294</span>  message = options.message <span class="keywordflow">or</span> raw_input(prompt).strip()</div>
<div class="line"><span class="lineno"> 1295</span>  <span class="keywordflow">if</span> <span class="keywordflow">not</span> message:</div>
<div class="line"><span class="lineno"> 1296</span>    ErrorExit(<span class="stringliteral">&quot;A non-empty message is required&quot;</span>)</div>
<div class="line"><span class="lineno"> 1297</span>  rpc_server = GetRpcServer(options)</div>
<div class="line"><span class="lineno"> 1298</span>  form_fields = [(<span class="stringliteral">&quot;subject&quot;</span>, message)]</div>
<div class="line"><span class="lineno"> 1299</span>  <span class="keywordflow">if</span> base:</div>
<div class="line"><span class="lineno"> 1300</span>    form_fields.append((<span class="stringliteral">&quot;base&quot;</span>, base))</div>
<div class="line"><span class="lineno"> 1301</span>  <span class="keywordflow">if</span> options.issue:</div>
<div class="line"><span class="lineno"> 1302</span>    form_fields.append((<span class="stringliteral">&quot;issue&quot;</span>, str(options.issue)))</div>
<div class="line"><span class="lineno"> 1303</span>  <span class="keywordflow">if</span> options.email:</div>
<div class="line"><span class="lineno"> 1304</span>    form_fields.append((<span class="stringliteral">&quot;user&quot;</span>, options.email))</div>
<div class="line"><span class="lineno"> 1305</span>  <span class="keywordflow">if</span> options.reviewers:</div>
<div class="line"><span class="lineno"> 1306</span>    <span class="keywordflow">for</span> reviewer <span class="keywordflow">in</span> options.reviewers.split(<span class="stringliteral">&#39;,&#39;</span>):</div>
<div class="line"><span class="lineno"> 1307</span>      <span class="keywordflow">if</span> <span class="stringliteral">&quot;@&quot;</span> <span class="keywordflow">in</span> reviewer <span class="keywordflow">and</span> <span class="keywordflow">not</span> reviewer.split(<span class="stringliteral">&quot;@&quot;</span>)[1].count(<span class="stringliteral">&quot;.&quot;</span>) == 1:</div>
<div class="line"><span class="lineno"> 1308</span>        ErrorExit(<span class="stringliteral">&quot;Invalid email address: %s&quot;</span> % reviewer)</div>
<div class="line"><span class="lineno"> 1309</span>    form_fields.append((<span class="stringliteral">&quot;reviewers&quot;</span>, options.reviewers))</div>
<div class="line"><span class="lineno"> 1310</span>  <span class="keywordflow">if</span> options.cc:</div>
<div class="line"><span class="lineno"> 1311</span>    <span class="keywordflow">for</span> cc <span class="keywordflow">in</span> options.cc.split(<span class="stringliteral">&#39;,&#39;</span>):</div>
<div class="line"><span class="lineno"> 1312</span>      <span class="keywordflow">if</span> <span class="stringliteral">&quot;@&quot;</span> <span class="keywordflow">in</span> cc <span class="keywordflow">and</span> <span class="keywordflow">not</span> cc.split(<span class="stringliteral">&quot;@&quot;</span>)[1].count(<span class="stringliteral">&quot;.&quot;</span>) == 1:</div>
<div class="line"><span class="lineno"> 1313</span>        ErrorExit(<span class="stringliteral">&quot;Invalid email address: %s&quot;</span> % cc)</div>
<div class="line"><span class="lineno"> 1314</span>    form_fields.append((<span class="stringliteral">&quot;cc&quot;</span>, options.cc))</div>
<div class="line"><span class="lineno"> 1315</span>  description = options.description</div>
<div class="line"><span class="lineno"> 1316</span>  <span class="keywordflow">if</span> options.description_file:</div>
<div class="line"><span class="lineno"> 1317</span>    <span class="keywordflow">if</span> options.description:</div>
<div class="line"><span class="lineno"> 1318</span>      ErrorExit(<span class="stringliteral">&quot;Can&#39;t specify description and description_file&quot;</span>)</div>
<div class="line"><span class="lineno"> 1319</span>    file = open(options.description_file, <span class="stringliteral">&#39;r&#39;</span>)</div>
<div class="line"><span class="lineno"> 1320</span>    description = file.read()</div>
<div class="line"><span class="lineno"> 1321</span>    file.close()</div>
<div class="line"><span class="lineno"> 1322</span>  <span class="keywordflow">if</span> description:</div>
<div class="line"><span class="lineno"> 1323</span>    form_fields.append((<span class="stringliteral">&quot;description&quot;</span>, description))</div>
<div class="line"><span class="lineno"> 1324</span>  <span class="comment"># Send a hash of all the base file so the server can determine if a copy</span></div>
<div class="line"><span class="lineno"> 1325</span>  <span class="comment"># already exists in an earlier patchset.</span></div>
<div class="line"><span class="lineno"> 1326</span>  base_hashes = <span class="stringliteral">&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1327</span>  <span class="keywordflow">for</span> file, info <span class="keywordflow">in</span> files.iteritems():</div>
<div class="line"><span class="lineno"> 1328</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> info[0] <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno"> 1329</span>      checksum = md5.new(info[0]).hexdigest()</div>
<div class="line"><span class="lineno"> 1330</span>      <span class="keywordflow">if</span> base_hashes:</div>
<div class="line"><span class="lineno"> 1331</span>        base_hashes += <span class="stringliteral">&quot;|&quot;</span></div>
<div class="line"><span class="lineno"> 1332</span>      base_hashes += checksum + <span class="stringliteral">&quot;:&quot;</span> + file</div>
<div class="line"><span class="lineno"> 1333</span>  form_fields.append((<span class="stringliteral">&quot;base_hashes&quot;</span>, base_hashes))</div>
<div class="line"><span class="lineno"> 1334</span>  <span class="comment"># If we&#39;re uploading base files, don&#39;t send the email before the uploads, so</span></div>
<div class="line"><span class="lineno"> 1335</span>  <span class="comment"># that it contains the file status.</span></div>
<div class="line"><span class="lineno"> 1336</span>  <span class="keywordflow">if</span> options.send_mail <span class="keywordflow">and</span> options.download_base:</div>
<div class="line"><span class="lineno"> 1337</span>    form_fields.append((<span class="stringliteral">&quot;send_mail&quot;</span>, <span class="stringliteral">&quot;1&quot;</span>))</div>
<div class="line"><span class="lineno"> 1338</span>  <span class="keywordflow">if</span> <span class="keywordflow">not</span> options.download_base:</div>
<div class="line"><span class="lineno"> 1339</span>    form_fields.append((<span class="stringliteral">&quot;content_upload&quot;</span>, <span class="stringliteral">&quot;1&quot;</span>))</div>
<div class="line"><span class="lineno"> 1340</span>  <span class="keywordflow">if</span> len(data) &gt; MAX_UPLOAD_SIZE:</div>
<div class="line"><span class="lineno"> 1341</span>    <span class="keywordflow">print</span> <span class="stringliteral">&quot;Patch is large, so uploading file patches separately.&quot;</span></div>
<div class="line"><span class="lineno"> 1342</span>    uploaded_diff_file = []</div>
<div class="line"><span class="lineno"> 1343</span>    form_fields.append((<span class="stringliteral">&quot;separate_patches&quot;</span>, <span class="stringliteral">&quot;1&quot;</span>))</div>
<div class="line"><span class="lineno"> 1344</span>  <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1345</span>    uploaded_diff_file = [(<span class="stringliteral">&quot;data&quot;</span>, <span class="stringliteral">&quot;data.diff&quot;</span>, data)]</div>
<div class="line"><span class="lineno"> 1346</span>  ctype, body = EncodeMultipartFormData(form_fields, uploaded_diff_file)</div>
<div class="line"><span class="lineno"> 1347</span>  response_body = rpc_server.Send(<span class="stringliteral">&quot;/upload&quot;</span>, body, content_type=ctype)</div>
<div class="line"><span class="lineno"> 1348</span>  patchset = <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno"> 1349</span>  <span class="keywordflow">if</span> <span class="keywordflow">not</span> options.download_base <span class="keywordflow">or</span> <span class="keywordflow">not</span> uploaded_diff_file:</div>
<div class="line"><span class="lineno"> 1350</span>    lines = response_body.splitlines()</div>
<div class="line"><span class="lineno"> 1351</span>    <span class="keywordflow">if</span> len(lines) &gt;= 2:</div>
<div class="line"><span class="lineno"> 1352</span>      msg = lines[0]</div>
<div class="line"><span class="lineno"> 1353</span>      patchset = lines[1].strip()</div>
<div class="line"><span class="lineno"> 1354</span>      patches = [x.split(<span class="stringliteral">&quot; &quot;</span>, 1) <span class="keywordflow">for</span> x <span class="keywordflow">in</span> lines[2:]]</div>
<div class="line"><span class="lineno"> 1355</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1356</span>      msg = response_body</div>
<div class="line"><span class="lineno"> 1357</span>  <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1358</span>    msg = response_body</div>
<div class="line"><span class="lineno"> 1359</span>  StatusUpdate(msg)</div>
<div class="line"><span class="lineno"> 1360</span>  <span class="keywordflow">if</span> <span class="keywordflow">not</span> response_body.startswith(<span class="stringliteral">&quot;Issue created.&quot;</span>) <span class="keywordflow">and</span> \</div>
<div class="line"><span class="lineno"> 1361</span>  <span class="keywordflow">not</span> response_body.startswith(<span class="stringliteral">&quot;Issue updated.&quot;</span>):</div>
<div class="line"><span class="lineno"> 1362</span>    sys.exit(0)</div>
<div class="line"><span class="lineno"> 1363</span>  issue = msg[msg.rfind(<span class="stringliteral">&quot;/&quot;</span>)+1:]</div>
<div class="line"><span class="lineno"> 1364</span> </div>
<div class="line"><span class="lineno"> 1365</span>  <span class="keywordflow">if</span> <span class="keywordflow">not</span> uploaded_diff_file:</div>
<div class="line"><span class="lineno"> 1366</span>    result = UploadSeparatePatches(issue, rpc_server, patchset, data, options)</div>
<div class="line"><span class="lineno"> 1367</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> options.download_base:</div>
<div class="line"><span class="lineno"> 1368</span>      patches = result</div>
<div class="line"><span class="lineno"> 1369</span> </div>
<div class="line"><span class="lineno"> 1370</span>  <span class="keywordflow">if</span> <span class="keywordflow">not</span> options.download_base:</div>
<div class="line"><span class="lineno"> 1371</span>    vcs.UploadBaseFiles(issue, rpc_server, patches, patchset, options, files)</div>
<div class="line"><span class="lineno"> 1372</span>    <span class="keywordflow">if</span> options.send_mail:</div>
<div class="line"><span class="lineno"> 1373</span>      rpc_server.Send(<span class="stringliteral">&quot;/&quot;</span> + issue + <span class="stringliteral">&quot;/mail&quot;</span>, payload=<span class="stringliteral">&quot;&quot;</span>)</div>
<div class="line"><span class="lineno"> 1374</span>  <span class="keywordflow">return</span> issue, patchset</div>
<div class="line"><span class="lineno"> 1375</span> </div>
<div class="line"><span class="lineno"> 1376</span> </div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="googlemock_2scripts_2upload_8py_source.html#l00498">EncodeMultipartFormData()</a>, <a class="el" href="googlemock_2scripts_2upload_8py_source.html#l00109">ErrorExit()</a>, <a class="el" href="googlemock_2scripts_2upload_8py_source.html#l00458">GetRpcServer()</a>, <a class="el" href="googlemock_2scripts_2upload_8py_source.html#l01209">GuessVCS()</a>, <a class="el" href="googlemock_2scripts_2upload_8py_source.html#l00097">StatusUpdate()</a>, and <a class="el" href="googlemock_2scripts_2upload_8py_source.html#l01181">UploadSeparatePatches()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespaceupload_ad57cf4d14059e0f18689efa2ea7c368b_cgraph.png" border="0" usemap="#anamespaceupload_ad57cf4d14059e0f18689efa2ea7c368b_cgraph" alt=""/></div>
<!-- MAP 11 -->
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespaceupload_ad57cf4d14059e0f18689efa2ea7c368b_icgraph.png" border="0" usemap="#anamespaceupload_ad57cf4d14059e0f18689efa2ea7c368b_icgraph" alt=""/></div>
<!-- MAP 12 -->
</div>

</div>
</div>
<a id="adc4aea7c4a79d29dfab04f650c274fdb" name="adc4aea7c4a79d29dfab04f650c274fdb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc4aea7c4a79d29dfab04f650c274fdb">&#9670;&#160;</a></span>RunShell()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">upload.RunShell </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>command</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>silent_ok</em> = <code>False</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>universal_newlines</em> = <code>True</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>print_output</em> = <code>False</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="googlemock_2scripts_2upload_8py_source.html#l00577">577</a> of file <a class="el" href="googlemock_2scripts_2upload_8py_source.html">upload.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  578</span>             print_output=<span class="keyword">False</span>):</div>
<div class="line"><span class="lineno">  579</span>  data, retcode = RunShellWithReturnCode(command, print_output,</div>
<div class="line"><span class="lineno">  580</span>                                         universal_newlines)</div>
<div class="line"><span class="lineno">  581</span>  <span class="keywordflow">if</span> retcode:</div>
<div class="line"><span class="lineno">  582</span>    ErrorExit(<span class="stringliteral">&quot;Got error status from %s:\n%s&quot;</span> % (command, data))</div>
<div class="line"><span class="lineno">  583</span>  <span class="keywordflow">if</span> <span class="keywordflow">not</span> silent_ok <span class="keywordflow">and</span> <span class="keywordflow">not</span> data:</div>
<div class="line"><span class="lineno">  584</span>    ErrorExit(<span class="stringliteral">&quot;No output from %s&quot;</span> % command)</div>
<div class="line"><span class="lineno">  585</span>  <span class="keywordflow">return</span> data</div>
<div class="line"><span class="lineno">  586</span> </div>
<div class="line"><span class="lineno">  587</span> </div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="googlemock_2scripts_2upload_8py_source.html#l00109">ErrorExit()</a>, and <a class="el" href="googlemock_2scripts_2upload_8py_source.html#l00542">RunShellWithReturnCode()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespaceupload_adc4aea7c4a79d29dfab04f650c274fdb_cgraph.png" border="0" usemap="#anamespaceupload_adc4aea7c4a79d29dfab04f650c274fdb_cgraph" alt=""/></div>
<!-- MAP 13 -->
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespaceupload_adc4aea7c4a79d29dfab04f650c274fdb_icgraph.png" border="0" usemap="#anamespaceupload_adc4aea7c4a79d29dfab04f650c274fdb_icgraph" alt=""/></div>
<!-- MAP 14 -->
</div>

</div>
</div>
<a id="aaf7f85c895770c6aba543e1bf57533ae" name="aaf7f85c895770c6aba543e1bf57533ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaf7f85c895770c6aba543e1bf57533ae">&#9670;&#160;</a></span>RunShellWithReturnCode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">upload.RunShellWithReturnCode </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>command</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>print_output</em> = <code>False</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>universal_newlines</em> = <code>True</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Executes a command and returns the output from stdout and the return code.

Args:
  command: Command to execute.
  print_output: If True, the output is printed to stdout.
                If False, both stdout and stderr are ignored.
  universal_newlines: Use universal_newlines flag (default: True).

Returns:
  Tuple (output, return code)
</pre> 
<p class="definition">Definition at line <a class="el" href="googlemock_2scripts_2upload_8py_source.html#l00541">541</a> of file <a class="el" href="googlemock_2scripts_2upload_8py_source.html">upload.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  542</span>                           universal_newlines=<span class="keyword">True</span>):</div>
<div class="line"><span class="lineno">  543</span>  <span class="stringliteral">&quot;&quot;&quot;Executes a command and returns the output from stdout and the return code.</span></div>
<div class="line"><span class="lineno">  544</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  545</span><span class="stringliteral">  Args:</span></div>
<div class="line"><span class="lineno">  546</span><span class="stringliteral">    command: Command to execute.</span></div>
<div class="line"><span class="lineno">  547</span><span class="stringliteral">    print_output: If True, the output is printed to stdout.</span></div>
<div class="line"><span class="lineno">  548</span><span class="stringliteral">                  If False, both stdout and stderr are ignored.</span></div>
<div class="line"><span class="lineno">  549</span><span class="stringliteral">    universal_newlines: Use universal_newlines flag (default: True).</span></div>
<div class="line"><span class="lineno">  550</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  551</span><span class="stringliteral">  Returns:</span></div>
<div class="line"><span class="lineno">  552</span><span class="stringliteral">    Tuple (output, return code)</span></div>
<div class="line"><span class="lineno">  553</span><span class="stringliteral">  &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  554</span>  logging.info(<span class="stringliteral">&quot;Running %s&quot;</span>, command)</div>
<div class="line"><span class="lineno">  555</span>  p = subprocess.Popen(command, stdout=subprocess.PIPE, stderr=subprocess.PIPE,</div>
<div class="line"><span class="lineno">  556</span>                       shell=use_shell, universal_newlines=universal_newlines)</div>
<div class="line"><span class="lineno">  557</span>  <span class="keywordflow">if</span> print_output:</div>
<div class="line"><span class="lineno">  558</span>    output_array = []</div>
<div class="line"><span class="lineno">  559</span>    <span class="keywordflow">while</span> <span class="keyword">True</span>:</div>
<div class="line"><span class="lineno">  560</span>      line = p.stdout.readline()</div>
<div class="line"><span class="lineno">  561</span>      <span class="keywordflow">if</span> <span class="keywordflow">not</span> line:</div>
<div class="line"><span class="lineno">  562</span>        <span class="keywordflow">break</span></div>
<div class="line"><span class="lineno">  563</span>      <span class="keywordflow">print</span> line.strip(<span class="stringliteral">&quot;\n&quot;</span>)</div>
<div class="line"><span class="lineno">  564</span>      output_array.append(line)</div>
<div class="line"><span class="lineno">  565</span>    output = <span class="stringliteral">&quot;&quot;</span>.join(output_array)</div>
<div class="line"><span class="lineno">  566</span>  <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  567</span>    output = p.stdout.read()</div>
<div class="line"><span class="lineno">  568</span>  p.wait()</div>
<div class="line"><span class="lineno">  569</span>  errout = p.stderr.read()</div>
<div class="line"><span class="lineno">  570</span>  <span class="keywordflow">if</span> print_output <span class="keywordflow">and</span> errout:</div>
<div class="line"><span class="lineno">  571</span>    <span class="keywordflow">print</span> &gt;&gt;sys.stderr, errout</div>
<div class="line"><span class="lineno">  572</span>  p.stdout.close()</div>
<div class="line"><span class="lineno">  573</span>  p.stderr.close()</div>
<div class="line"><span class="lineno">  574</span>  <span class="keywordflow">return</span> output, p.returncode</div>
<div class="line"><span class="lineno">  575</span> </div>
<div class="line"><span class="lineno">  576</span> </div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespaceupload_aaf7f85c895770c6aba543e1bf57533ae_icgraph.png" border="0" usemap="#anamespaceupload_aaf7f85c895770c6aba543e1bf57533ae_icgraph" alt=""/></div>
<!-- MAP 15 -->
</div>

</div>
</div>
<a id="ad086545a31d32684cc46db8d911c5dd9" name="ad086545a31d32684cc46db8d911c5dd9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad086545a31d32684cc46db8d911c5dd9">&#9670;&#160;</a></span>SplitPatch()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">upload.SplitPatch </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Splits a patch into separate pieces for each file.

Args:
  data: A string containing the output of svn diff.

Returns:
  A list of 2-tuple (filename, text) where text is the svn diff output
    pertaining to filename.
</pre> 
<p class="definition">Definition at line <a class="el" href="googlemock_2scripts_2upload_8py_source.html#l01141">1141</a> of file <a class="el" href="googlemock_2scripts_2upload_8py_source.html">upload.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1141</span><span class="keyword">def </span>SplitPatch(data):</div>
<div class="line"><span class="lineno"> 1142</span>  <span class="stringliteral">&quot;&quot;&quot;Splits a patch into separate pieces for each file.</span></div>
<div class="line"><span class="lineno"> 1143</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1144</span><span class="stringliteral">  Args:</span></div>
<div class="line"><span class="lineno"> 1145</span><span class="stringliteral">    data: A string containing the output of svn diff.</span></div>
<div class="line"><span class="lineno"> 1146</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1147</span><span class="stringliteral">  Returns:</span></div>
<div class="line"><span class="lineno"> 1148</span><span class="stringliteral">    A list of 2-tuple (filename, text) where text is the svn diff output</span></div>
<div class="line"><span class="lineno"> 1149</span><span class="stringliteral">      pertaining to filename.</span></div>
<div class="line"><span class="lineno"> 1150</span><span class="stringliteral">  &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1151</span>  patches = []</div>
<div class="line"><span class="lineno"> 1152</span>  filename = <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno"> 1153</span>  diff = []</div>
<div class="line"><span class="lineno"> 1154</span>  <span class="keywordflow">for</span> line <span class="keywordflow">in</span> data.splitlines(<span class="keyword">True</span>):</div>
<div class="line"><span class="lineno"> 1155</span>    new_filename = <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno"> 1156</span>    <span class="keywordflow">if</span> line.startswith(<span class="stringliteral">&#39;Index:&#39;</span>):</div>
<div class="line"><span class="lineno"> 1157</span>      unused, new_filename = line.split(<span class="stringliteral">&#39;:&#39;</span>, 1)</div>
<div class="line"><span class="lineno"> 1158</span>      new_filename = new_filename.strip()</div>
<div class="line"><span class="lineno"> 1159</span>    <span class="keywordflow">elif</span> line.startswith(<span class="stringliteral">&#39;Property changes on:&#39;</span>):</div>
<div class="line"><span class="lineno"> 1160</span>      unused, temp_filename = line.split(<span class="stringliteral">&#39;:&#39;</span>, 1)</div>
<div class="line"><span class="lineno"> 1161</span>      <span class="comment"># When a file is modified, paths use &#39;/&#39; between directories, however</span></div>
<div class="line"><span class="lineno"> 1162</span>      <span class="comment"># when a property is modified &#39;\&#39; is used on Windows.  Make them the same</span></div>
<div class="line"><span class="lineno"> 1163</span>      <span class="comment"># otherwise the file shows up twice.</span></div>
<div class="line"><span class="lineno"> 1164</span>      temp_filename = temp_filename.strip().replace(<span class="stringliteral">&#39;\\&#39;</span>, <span class="stringliteral">&#39;/&#39;</span>)</div>
<div class="line"><span class="lineno"> 1165</span>      <span class="keywordflow">if</span> temp_filename != filename:</div>
<div class="line"><span class="lineno"> 1166</span>        <span class="comment"># File has property changes but no modifications, create a new diff.</span></div>
<div class="line"><span class="lineno"> 1167</span>        new_filename = temp_filename</div>
<div class="line"><span class="lineno"> 1168</span>    <span class="keywordflow">if</span> new_filename:</div>
<div class="line"><span class="lineno"> 1169</span>      <span class="keywordflow">if</span> filename <span class="keywordflow">and</span> diff:</div>
<div class="line"><span class="lineno"> 1170</span>        patches.append((filename, <span class="stringliteral">&#39;&#39;</span>.join(diff)))</div>
<div class="line"><span class="lineno"> 1171</span>      filename = new_filename</div>
<div class="line"><span class="lineno"> 1172</span>      diff = [line]</div>
<div class="line"><span class="lineno"> 1173</span>      <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 1174</span>    <span class="keywordflow">if</span> diff <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno"> 1175</span>      diff.append(line)</div>
<div class="line"><span class="lineno"> 1176</span>  <span class="keywordflow">if</span> filename <span class="keywordflow">and</span> diff:</div>
<div class="line"><span class="lineno"> 1177</span>    patches.append((filename, <span class="stringliteral">&#39;&#39;</span>.join(diff)))</div>
<div class="line"><span class="lineno"> 1178</span>  <span class="keywordflow">return</span> patches</div>
<div class="line"><span class="lineno"> 1179</span> </div>
<div class="line"><span class="lineno"> 1180</span> </div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespaceupload_ad086545a31d32684cc46db8d911c5dd9_icgraph.png" border="0" usemap="#anamespaceupload_ad086545a31d32684cc46db8d911c5dd9_icgraph" alt=""/></div>
<!-- MAP 16 -->
</div>

</div>
</div>
<a id="ace7b6cbe630726762d0d876fc7e756a2" name="ace7b6cbe630726762d0d876fc7e756a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace7b6cbe630726762d0d876fc7e756a2">&#9670;&#160;</a></span>StatusUpdate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">upload.StatusUpdate </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Print a status message to stdout.

If 'verbosity' is greater than 0, print the message.

Args:
  msg: The string to print.
</pre> 
<p class="definition">Definition at line <a class="el" href="googlemock_2scripts_2upload_8py_source.html#l00097">97</a> of file <a class="el" href="googlemock_2scripts_2upload_8py_source.html">upload.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   97</span><span class="keyword">def </span>StatusUpdate(msg):</div>
<div class="line"><span class="lineno">   98</span>  <span class="stringliteral">&quot;&quot;&quot;Print a status message to stdout.</span></div>
<div class="line"><span class="lineno">   99</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  100</span><span class="stringliteral">  If &#39;verbosity&#39; is greater than 0, print the message.</span></div>
<div class="line"><span class="lineno">  101</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  102</span><span class="stringliteral">  Args:</span></div>
<div class="line"><span class="lineno">  103</span><span class="stringliteral">    msg: The string to print.</span></div>
<div class="line"><span class="lineno">  104</span><span class="stringliteral">  &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  105</span>  <span class="keywordflow">if</span> verbosity &gt; 0:</div>
<div class="line"><span class="lineno">  106</span>    <span class="keywordflow">print</span> msg</div>
<div class="line"><span class="lineno">  107</span> </div>
<div class="line"><span class="lineno">  108</span> </div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespaceupload_ace7b6cbe630726762d0d876fc7e756a2_icgraph.png" border="0" usemap="#anamespaceupload_ace7b6cbe630726762d0d876fc7e756a2_icgraph" alt=""/></div>
<!-- MAP 17 -->
</div>

</div>
</div>
<a id="a911c98a64378a566a42ed6758245ef22" name="a911c98a64378a566a42ed6758245ef22"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a911c98a64378a566a42ed6758245ef22">&#9670;&#160;</a></span>UploadSeparatePatches()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">upload.UploadSeparatePatches </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>issue</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>rpc_server</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>patchset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>options</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Uploads a separate patch for each file in the diff output.

Returns a list of [patch_key, filename] for each file.
</pre> 
<p class="definition">Definition at line <a class="el" href="googlemock_2scripts_2upload_8py_source.html#l01181">1181</a> of file <a class="el" href="googlemock_2scripts_2upload_8py_source.html">upload.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1181</span><span class="keyword">def </span>UploadSeparatePatches(issue, rpc_server, patchset, data, options):</div>
<div class="line"><span class="lineno"> 1182</span>  <span class="stringliteral">&quot;&quot;&quot;Uploads a separate patch for each file in the diff output.</span></div>
<div class="line"><span class="lineno"> 1183</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1184</span><span class="stringliteral">  Returns a list of [patch_key, filename] for each file.</span></div>
<div class="line"><span class="lineno"> 1185</span><span class="stringliteral">  &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1186</span>  patches = SplitPatch(data)</div>
<div class="line"><span class="lineno"> 1187</span>  rv = []</div>
<div class="line"><span class="lineno"> 1188</span>  <span class="keywordflow">for</span> patch <span class="keywordflow">in</span> patches:</div>
<div class="line"><span class="lineno"> 1189</span>    <span class="keywordflow">if</span> len(patch[1]) &gt; MAX_UPLOAD_SIZE:</div>
<div class="line"><span class="lineno"> 1190</span>      <span class="keywordflow">print</span> (<span class="stringliteral">&quot;Not uploading the patch for &quot;</span> + patch[0] +</div>
<div class="line"><span class="lineno"> 1191</span>             <span class="stringliteral">&quot; because the file is too large.&quot;</span>)</div>
<div class="line"><span class="lineno"> 1192</span>      <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 1193</span>    form_fields = [(<span class="stringliteral">&quot;filename&quot;</span>, patch[0])]</div>
<div class="line"><span class="lineno"> 1194</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> options.download_base:</div>
<div class="line"><span class="lineno"> 1195</span>      form_fields.append((<span class="stringliteral">&quot;content_upload&quot;</span>, <span class="stringliteral">&quot;1&quot;</span>))</div>
<div class="line"><span class="lineno"> 1196</span>    files = [(<span class="stringliteral">&quot;data&quot;</span>, <span class="stringliteral">&quot;data.diff&quot;</span>, patch[1])]</div>
<div class="line"><span class="lineno"> 1197</span>    ctype, body = EncodeMultipartFormData(form_fields, files)</div>
<div class="line"><span class="lineno"> 1198</span>    url = <span class="stringliteral">&quot;/%d/upload_patch/%d&quot;</span> % (int(issue), int(patchset))</div>
<div class="line"><span class="lineno"> 1199</span>    <span class="keywordflow">print</span> <span class="stringliteral">&quot;Uploading patch for &quot;</span> + patch[0]</div>
<div class="line"><span class="lineno"> 1200</span>    response_body = rpc_server.Send(url, body, content_type=ctype)</div>
<div class="line"><span class="lineno"> 1201</span>    lines = response_body.splitlines()</div>
<div class="line"><span class="lineno"> 1202</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> lines <span class="keywordflow">or</span> lines[0] != <span class="stringliteral">&quot;OK&quot;</span>:</div>
<div class="line"><span class="lineno"> 1203</span>      StatusUpdate(<span class="stringliteral">&quot;  --&gt; %s&quot;</span> % response_body)</div>
<div class="line"><span class="lineno"> 1204</span>      sys.exit(1)</div>
<div class="line"><span class="lineno"> 1205</span>    rv.append([lines[1], patch[0]])</div>
<div class="line"><span class="lineno"> 1206</span>  <span class="keywordflow">return</span> rv</div>
<div class="line"><span class="lineno"> 1207</span> </div>
<div class="line"><span class="lineno"> 1208</span> </div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="googlemock_2scripts_2upload_8py_source.html#l00498">EncodeMultipartFormData()</a>, <a class="el" href="googlemock_2scripts_2upload_8py_source.html#l01141">SplitPatch()</a>, and <a class="el" href="googlemock_2scripts_2upload_8py_source.html#l00097">StatusUpdate()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespaceupload_a911c98a64378a566a42ed6758245ef22_cgraph.png" border="0" usemap="#anamespaceupload_a911c98a64378a566a42ed6758245ef22_cgraph" alt=""/></div>
<!-- MAP 18 -->
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespaceupload_a911c98a64378a566a42ed6758245ef22_icgraph.png" border="0" usemap="#anamespaceupload_a911c98a64378a566a42ed6758245ef22_icgraph" alt=""/></div>
<!-- MAP 19 -->
</div>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a675d13c979f1c720866d22ed1736f580" name="a675d13c979f1c720866d22ed1736f580"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a675d13c979f1c720866d22ed1736f580">&#9670;&#160;</a></span>action</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">upload.action</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="googlemock_2scripts_2upload_8py_source.html#l00393">393</a> of file <a class="el" href="googlemock_2scripts_2upload_8py_source.html">upload.py</a>.</p>

</div>
</div>
<a id="a985aa9a71de3eb507344df65700c696d" name="a985aa9a71de3eb507344df65700c696d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a985aa9a71de3eb507344df65700c696d">&#9670;&#160;</a></span>const</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">upload.const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="googlemock_2scripts_2upload_8py_source.html#l00398">398</a> of file <a class="el" href="googlemock_2scripts_2upload_8py_source.html">upload.py</a>.</p>

</div>
</div>
<a id="af4be925d9a50d5ad134d86400509d0f2" name="af4be925d9a50d5ad134d86400509d0f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af4be925d9a50d5ad134d86400509d0f2">&#9670;&#160;</a></span>default</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">upload.default</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="googlemock_2scripts_2upload_8py_source.html#l00394">394</a> of file <a class="el" href="googlemock_2scripts_2upload_8py_source.html">upload.py</a>.</p>

</div>
</div>
<a id="a770d9c7b49b1fede80de6078d5e49af7" name="a770d9c7b49b1fede80de6078d5e49af7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a770d9c7b49b1fede80de6078d5e49af7">&#9670;&#160;</a></span>dest</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">upload.dest</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="googlemock_2scripts_2upload_8py_source.html#l00394">394</a> of file <a class="el" href="googlemock_2scripts_2upload_8py_source.html">upload.py</a>.</p>

</div>
</div>
<a id="a9d33d66de17175dced88ffe95f079226" name="a9d33d66de17175dced88ffe95f079226"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d33d66de17175dced88ffe95f079226">&#9670;&#160;</a></span>group</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">upload.group = parser.add_option_group(&quot;Logging options&quot;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="googlemock_2scripts_2upload_8py_source.html#l00397">397</a> of file <a class="el" href="googlemock_2scripts_2upload_8py_source.html">upload.py</a>.</p>

</div>
</div>
<a id="abfc23c9aa2d9b777678da117a85929a5" name="abfc23c9aa2d9b777678da117a85929a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abfc23c9aa2d9b777678da117a85929a5">&#9670;&#160;</a></span>help</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">upload.help</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="googlemock_2scripts_2upload_8py_source.html#l00395">395</a> of file <a class="el" href="googlemock_2scripts_2upload_8py_source.html">upload.py</a>.</p>

</div>
</div>
<a id="aad5b1a43823e2a710a2f78e33dde8901" name="aad5b1a43823e2a710a2f78e33dde8901"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad5b1a43823e2a710a2f78e33dde8901">&#9670;&#160;</a></span>MAX_UPLOAD_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int upload.MAX_UPLOAD_SIZE = 900 * 1024</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="googlemock_2scripts_2upload_8py_source.html#l00062">62</a> of file <a class="el" href="googlemock_2scripts_2upload_8py_source.html">upload.py</a>.</p>

</div>
</div>
<a id="af1cea8af5389f0ab2d8b65b2c0fd2fe0" name="af1cea8af5389f0ab2d8b65b2c0fd2fe0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af1cea8af5389f0ab2d8b65b2c0fd2fe0">&#9670;&#160;</a></span>metavar</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">upload.metavar</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="googlemock_2scripts_2upload_8py_source.html#l00409">409</a> of file <a class="el" href="googlemock_2scripts_2upload_8py_source.html">upload.py</a>.</p>

</div>
</div>
<a id="af9e508d19dc2dd9cdb7c642dde0bdd21" name="af9e508d19dc2dd9cdb7c642dde0bdd21"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af9e508d19dc2dd9cdb7c642dde0bdd21">&#9670;&#160;</a></span>parser</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">upload.parser = optparse.OptionParser(usage=&quot;%prog [options] [-- diff_options]&quot;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="googlemock_2scripts_2upload_8py_source.html#l00392">392</a> of file <a class="el" href="googlemock_2scripts_2upload_8py_source.html">upload.py</a>.</p>

</div>
</div>
<a id="a4fc56f0dd6613be15c3c4dc3af3619ce" name="a4fc56f0dd6613be15c3c4dc3af3619ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4fc56f0dd6613be15c3c4dc3af3619ce">&#9670;&#160;</a></span>type</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">upload.type</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="googlemock_2scripts_2upload_8py_source.html#l00443">443</a> of file <a class="el" href="googlemock_2scripts_2upload_8py_source.html">upload.py</a>.</p>

</div>
</div>
<a id="afa85ceef00a65cd276a856404eb5f310" name="afa85ceef00a65cd276a856404eb5f310"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa85ceef00a65cd276a856404eb5f310">&#9670;&#160;</a></span>use_shell</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">upload.use_shell = sys.platform.startswith(&quot;win&quot;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="googlemock_2scripts_2upload_8py_source.html#l00539">539</a> of file <a class="el" href="googlemock_2scripts_2upload_8py_source.html">upload.py</a>.</p>

</div>
</div>
<a id="a79aff46409a98c4e5f608c8df1fd4612" name="a79aff46409a98c4e5f608c8df1fd4612"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a79aff46409a98c4e5f608c8df1fd4612">&#9670;&#160;</a></span>verbosity</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int upload.verbosity = 1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="googlemock_2scripts_2upload_8py_source.html#l00059">59</a> of file <a class="el" href="googlemock_2scripts_2upload_8py_source.html">upload.py</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaceupload.html">upload</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
